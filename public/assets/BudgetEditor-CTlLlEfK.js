import{aa as e,ab as D,ac as t,ad as I,ae as T,c as U,aS as Y,b4 as M,b8 as P,be as z,aZ as E,bf as Z,bg as k,b6 as L}from"./chunk-OIYGIGL5-Dz3lc_zy.js";import{F as _,a as q,b as j,T as y}from"./TextField-mU8_9wwQ.js";import{S as g}from"./SelectField-B0CyAKau.js";import{R as F}from"./RadioField--0vtsVOx.js";import{p as H}from"./IconBase.es-bNXIz6Ka.js";import{b as G}from"./index-Gdrs8c09.js";import{u as Q}from"./use-field-context-C-SxbJHL.js";import{G as N}from"./group-Dm12P2qF.js";import{B as w}from"./button-DDr2X09M.js";import"./index-Bq3_AKH4.js";import"./icon-BzRF43ds.js";import"./field.anatomy-BSzTreLs.js";import"./for-C-OR-lR2.js";import"./select-BEsqFm_T.js";import"./index-BaQg72dD.js";import"./index-DPdUivyp.js";import"./h-stack-rVQXWdM4.js";import"./index-BuDsKDzq.js";import"./loader-CDdZTNIB.js";const A=e.forwardRef((n,r)=>{const{autoresize:a,...s}=n,l=e.useRef(null),o=Q(),c=D(o?.getTextareaProps(),{style:{resize:a?"none":void 0}},s);return e.useEffect(()=>{if(a)return G(l.current)},[a]),t.jsx(I.textarea,{...c,ref:T(r,l)})});A.displayName="FieldTextarea";const{withContext:$}=U({key:"textarea"}),J=$(A),K=new Map([["bold",e.createElement(e.Fragment,null,e.createElement("path",{d:"M209.37,60.27C188.08,49.62,160,44,128,44S67.92,49.62,46.63,60.27C24.62,71.27,12,87.21,12,104v48c0,16.79,12.62,32.73,34.63,43.73C67.92,206.38,96.05,212,128,212s60.08-5.62,81.37-16.27c22-11,34.63-26.94,34.63-43.73V104C244,87.21,231.38,71.27,209.37,60.27Zm-152,21.46C75.08,72.88,100.16,68,128,68s52.92,4.88,70.63,13.73C211.81,88.32,220,96.86,220,104s-8.19,15.68-21.37,22.27C180.92,135.12,155.84,140,128,140s-52.92-4.88-70.63-13.73C44.19,119.68,36,111.14,36,104S44.19,88.32,57.37,81.73ZM180,181.38a180.38,180.38,0,0,1-40,6.3v-24a210.39,210.39,0,0,0,40-5.51ZM76,158.22a210.39,210.39,0,0,0,40,5.51v24a180.38,180.38,0,0,1-40-6.3ZM36,152V141.54a94.54,94.54,0,0,0,10.63,6.19c1.74.87,3.54,1.7,5.37,2.5V171.3C42,165.24,36,158.11,36,152Zm168,19.3V150.23c1.83-.8,3.63-1.63,5.37-2.5A94.54,94.54,0,0,0,220,141.54V152C220,158.11,214,165.24,204,171.3Z"}))],["duotone",e.createElement(e.Fragment,null,e.createElement("path",{d:"M232,104c0,24-40,48-104,48S24,128,24,104,64,56,128,56,232,80,232,104Z",opacity:"0.2"}),e.createElement("path",{d:"M207.58,63.84C186.85,53.48,159.33,48,128,48S69.15,53.48,48.42,63.84,16,88.78,16,104v48c0,15.22,11.82,29.85,32.42,40.16S96.67,208,128,208s58.85-5.48,79.58-15.84S240,167.22,240,152V104C240,88.78,228.18,74.15,207.58,63.84ZM128,64c62.64,0,96,23.23,96,40s-33.36,40-96,40-96-23.23-96-40S65.36,64,128,64Zm-8,95.86v32c-19-.62-35-3.42-48-7.49V153.05A203.43,203.43,0,0,0,120,159.86Zm16,0a203.43,203.43,0,0,0,48-6.81v31.31c-13,4.07-29,6.87-48,7.49ZM32,152V133.53a82.88,82.88,0,0,0,16.42,10.63c2.43,1.21,5,2.35,7.58,3.43V178C40.17,170.16,32,160.29,32,152Zm168,26V147.59c2.61-1.08,5.15-2.22,7.58-3.43A82.88,82.88,0,0,0,224,133.53V152C224,160.29,215.83,170.16,200,178Z"}))],["fill",e.createElement(e.Fragment,null,e.createElement("path",{d:"M207.58,63.84C186.85,53.48,159.33,48,128,48S69.15,53.48,48.42,63.84,16,88.78,16,104v48c0,15.22,11.82,29.85,32.42,40.16S96.67,208,128,208s58.85-5.48,79.58-15.84S240,167.22,240,152V104C240,88.78,228.18,74.15,207.58,63.84Zm-87.58,96v32c-19-.62-35-3.42-48-7.49V153.05A203.43,203.43,0,0,0,120,159.86Zm16,0a203.43,203.43,0,0,0,48-6.81v31.31c-13,4.07-29,6.87-48,7.49ZM32,152V133.53a82.88,82.88,0,0,0,16.42,10.63c2.43,1.21,5,2.35,7.58,3.43V178C40.17,170.16,32,160.29,32,152Zm168,26V147.59c2.61-1.08,5.15-2.22,7.58-3.43A82.88,82.88,0,0,0,224,133.53V152C224,160.29,215.83,170.16,200,178Z"}))],["light",e.createElement(e.Fragment,null,e.createElement("path",{d:"M206.68,65.63C186.23,55.41,159,50,128,50S69.77,55.41,49.32,65.63C29.41,75.58,18,89.57,18,104v48c0,14.43,11.41,28.42,31.32,38.37C69.77,200.59,97,206,128,206s58.23-5.41,78.68-15.63C226.59,180.42,238,166.43,238,152V104C238,89.57,226.59,75.58,206.68,65.63Zm-152,10.74C73.21,67.1,99.25,62,128,62s54.79,5.1,73.32,14.37C217,84.21,226,94.28,226,104s-9,19.79-24.68,27.63C182.79,140.9,156.75,146,128,146s-54.79-5.1-73.32-14.37C39,123.79,30,113.72,30,104S39,84.21,54.68,76.37ZM122,157.93v36c-19.24-.48-37.07-3.28-52-8.11v-35.4C85.27,154.93,102.85,157.49,122,157.93Zm12,0c19.15-.44,36.73-3,52-7.52v35.4c-14.93,4.83-32.76,7.63-52,8.11ZM30,152V129a76,76,0,0,0,19.32,13.36q4.16,2.07,8.68,3.88v35c-1.13-.52-2.24-1-3.32-1.58C39,171.79,30,161.72,30,152Zm171.32,27.63c-1.08.54-2.19,1.06-3.32,1.58v-35q4.51-1.81,8.68-3.88A76,76,0,0,0,226,129v23C226,161.72,217,171.79,201.32,179.63Z"}))],["regular",e.createElement(e.Fragment,null,e.createElement("path",{d:"M207.58,63.84C186.85,53.48,159.33,48,128,48S69.15,53.48,48.42,63.84,16,88.78,16,104v48c0,15.22,11.82,29.85,32.42,40.16S96.67,208,128,208s58.85-5.48,79.58-15.84S240,167.22,240,152V104C240,88.78,228.18,74.15,207.58,63.84ZM128,64c62.64,0,96,23.23,96,40s-33.36,40-96,40-96-23.23-96-40S65.36,64,128,64Zm-8,95.86v32c-19-.62-35-3.42-48-7.49V153.05A203.43,203.43,0,0,0,120,159.86Zm16,0a203.43,203.43,0,0,0,48-6.81v31.31c-13,4.07-29,6.87-48,7.49ZM32,152V133.53a82.88,82.88,0,0,0,16.42,10.63c2.43,1.21,5,2.35,7.58,3.43V178C40.17,170.16,32,160.29,32,152Zm168,26V147.59c2.61-1.08,5.15-2.22,7.58-3.43A82.88,82.88,0,0,0,224,133.53V152C224,160.29,215.83,170.16,200,178Z"}))],["thin",e.createElement(e.Fragment,null,e.createElement("path",{d:"M205.79,67.42C185.9,57.48,158.27,52,128,52S70.1,57.48,50.21,67.42C31,77,20,90.35,20,104v48c0,13.65,11,27,30.21,36.58C70.1,198.52,97.73,204,128,204s57.9-5.48,77.79-15.42C225,179,236,165.65,236,152V104C236,90.35,225,77,205.79,67.42ZM128,60c61.77,0,100,22.84,100,44s-38.23,44-100,44S28,125.16,28,104,66.23,60,128,60ZM124,156v40c-22-.35-40.94-3.65-56-8.71V147.65C84.23,152.75,103.44,155.62,124,156Zm8,0c20.56-.33,39.77-3.2,56-8.3v39.59c-15.06,5.06-33.95,8.36-56,8.71ZM28,152V123.92c5.15,6.19,12.67,11.89,22.21,16.66,3.08,1.54,6.36,2.95,9.79,4.28v39.38C39.49,175.67,28,163.59,28,152Zm200,0c0,11.59-11.49,23.67-32,32.24V144.86c3.43-1.33,6.71-2.74,9.79-4.28,9.54-4.77,17.06-10.47,22.21-16.66Z"}))]]),O=new Map([["bold",e.createElement(e.Fragment,null,e.createElement("path",{d:"M152,116H140V60h4a28,28,0,0,1,28,28,12,12,0,0,0,24,0,52.06,52.06,0,0,0-52-52h-4V24a12,12,0,0,0-24,0V36h-4a52,52,0,0,0,0,104h4v56H104a28,28,0,0,1-28-28,12,12,0,0,0-24,0,52.06,52.06,0,0,0,52,52h12v12a12,12,0,0,0,24,0V220h12a52,52,0,0,0,0-104Zm-40,0a28,28,0,0,1,0-56h4v56Zm40,80H140V140h12a28,28,0,0,1,0,56Z"}))],["duotone",e.createElement(e.Fragment,null,e.createElement("path",{d:"M192,168a40,40,0,0,1-40,40H128V128h24A40,40,0,0,1,192,168ZM112,48a40,40,0,0,0,0,80h16V48Z",opacity:"0.2"}),e.createElement("path",{d:"M152,120H136V56h8a32,32,0,0,1,32,32,8,8,0,0,0,16,0,48.05,48.05,0,0,0-48-48h-8V24a8,8,0,0,0-16,0V40h-8a48,48,0,0,0,0,96h8v64H104a32,32,0,0,1-32-32,8,8,0,0,0-16,0,48.05,48.05,0,0,0,48,48h16v16a8,8,0,0,0,16,0V216h16a48,48,0,0,0,0-96Zm-40,0a32,32,0,0,1,0-64h8v64Zm40,80H136V136h16a32,32,0,0,1,0,64Z"}))],["fill",e.createElement(e.Fragment,null,e.createElement("path",{d:"M160,152a16,16,0,0,1-16,16h-8V136h8A16,16,0,0,1,160,152Zm72-24A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-56,24a32,32,0,0,0-32-32h-8V88h4a16,16,0,0,1,16,16,8,8,0,0,0,16,0,32,32,0,0,0-32-32h-4V64a8,8,0,0,0-16,0v8h-4a32,32,0,0,0,0,64h4v32h-8a16,16,0,0,1-16-16,8,8,0,0,0-16,0,32,32,0,0,0,32,32h8v8a8,8,0,0,0,16,0v-8h8A32,32,0,0,0,176,152Zm-76-48a16,16,0,0,0,16,16h4V88h-4A16,16,0,0,0,100,104Z"}))],["light",e.createElement(e.Fragment,null,e.createElement("path",{d:"M152,122H134V54h10a34,34,0,0,1,34,34,6,6,0,0,0,12,0,46.06,46.06,0,0,0-46-46H134V24a6,6,0,0,0-12,0V42H112a46,46,0,0,0,0,92h10v68H104a34,34,0,0,1-34-34,6,6,0,0,0-12,0,46.06,46.06,0,0,0,46,46h18v18a6,6,0,0,0,12,0V214h18a46,46,0,0,0,0-92Zm-40,0a34,34,0,0,1,0-68h10v68Zm40,80H134V134h18a34,34,0,0,1,0,68Z"}))],["regular",e.createElement(e.Fragment,null,e.createElement("path",{d:"M152,120H136V56h8a32,32,0,0,1,32,32,8,8,0,0,0,16,0,48.05,48.05,0,0,0-48-48h-8V24a8,8,0,0,0-16,0V40h-8a48,48,0,0,0,0,96h8v64H104a32,32,0,0,1-32-32,8,8,0,0,0-16,0,48.05,48.05,0,0,0,48,48h16v16a8,8,0,0,0,16,0V216h16a48,48,0,0,0,0-96Zm-40,0a32,32,0,0,1,0-64h8v64Zm40,80H136V136h16a32,32,0,0,1,0,64Z"}))],["thin",e.createElement(e.Fragment,null,e.createElement("path",{d:"M152,124H132V52h12a36,36,0,0,1,36,36,4,4,0,0,0,8,0,44.05,44.05,0,0,0-44-44H132V24a4,4,0,0,0-8,0V44H112a44,44,0,0,0,0,88h12v72H104a36,36,0,0,1-36-36,4,4,0,0,0-8,0,44.05,44.05,0,0,0,44,44h20v20a4,4,0,0,0,8,0V212h20a44,44,0,0,0,0-88Zm-40,0a36,36,0,0,1,0-72h12v72Zm40,80H132V132h20a36,36,0,0,1,0,72Z"}))]]),x=e.forwardRef((n,r)=>e.createElement(H,{ref:r,...n,weights:K}));x.displayName="CoinIcon";const f=e.forwardRef((n,r)=>e.createElement(H,{ref:r,...n,weights:O}));f.displayName="CurrencyDollarIcon";const B=({label:n,value:r,setValue:a})=>t.jsxs(_,{children:[t.jsx(q,{children:Y.capitalize(n)}),t.jsx(J,{placeholder:"Add notes here",rows:5,value:r,onChange:s=>a(s.target.value)})]}),W=({budgetId:n})=>{const r=M(),{data:a,isLoading:s}=P(n),[l]=z(),[o,c]=e.useState(""),[h,m]=e.useState(""),[d,u]=e.useState("NIS"),[V,i]=e.useState(""),[p,v]=e.useState("");e.useEffect(()=>{a&&(c(a.date.month.toString()),m(a.date.year.toString()),u(a.currency),i(a.name),v(a.notes||""))},[a]);const C=async R=>{R.preventDefault(),await l({_id:a?._id,name:V,currency:d,date:{month:Number(o),year:Number(h)},notes:p}).unwrap(),r("/planning")},b=new Date().getFullYear();let S=null;return s?S=t.jsx("div",{children:"Loading..."}):a&&(S=t.jsxs(E,{as:"form",onSubmit:C,gap:"4",children:[t.jsx(j,{text:"create budget"}),t.jsxs(N,{children:[t.jsx(g,{collection:Z(1,12),label:"select month",value:o,setValue:c}),t.jsx(g,{collection:Z(b,b+5),label:"select year",value:h,setValue:m})]}),t.jsx(F,{items:[{value:"NIS",title:"NIS",icon:t.jsx(x,{})},{value:"USD",title:"USD",icon:t.jsx(f,{})}],label:"select currency",value:d,setValue:u}),t.jsx(y,{label:"name",value:V,setValue:i}),t.jsx(B,{label:"notes",value:p,setValue:v}),t.jsx(w,{type:"submit",children:"Update Budget"})]})),S},X=()=>{const n=M(),[r]=k(),a=new Date().getFullYear(),s=new Date().getMonth()+1,[l,o]=e.useState(s.toString()),[c,h]=e.useState(a.toString()),[m,d]=e.useState("NIS"),[u,V]=e.useState(""),[i,p]=e.useState(""),v=async C=>{C.preventDefault(),await r({name:u,currency:m,date:{month:Number(l),year:Number(c)},notes:i}).unwrap(),n("/planning")};return t.jsxs(E,{as:"form",onSubmit:v,gap:"4",children:[t.jsx(j,{text:"create budget"}),t.jsxs(N,{children:[t.jsx(g,{collection:Z(1,12),label:"select month",value:l,setValue:o}),t.jsx(g,{collection:Z(a,a+5),label:"select year",value:c,setValue:h})]}),t.jsx(F,{items:[{value:"NIS",title:"NIS",icon:t.jsx(x,{})},{value:"USD",title:"USD",icon:t.jsx(f,{})}],label:"select currency",value:m,setValue:d}),t.jsx(y,{label:"name",value:u,setValue:V}),t.jsx(B,{label:"notes",value:i,setValue:p}),t.jsx(w,{type:"submit",children:"Create Budget"})]})},C0=()=>{const{id:n}=L();let r=null;return n?r=t.jsx(W,{budgetId:n}):r=t.jsx(X,{}),r};export{C0 as BudgetEditor};
