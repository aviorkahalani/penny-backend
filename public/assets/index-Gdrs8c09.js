import{af as g,bh as c,J as l}from"./chunk-OIYGIGL5-Dz3lc_zy.js";function h(e){if(!e)return;const t=g(e);return"box-sizing:"+t.boxSizing+";border-left:"+t.borderLeftWidth+" solid red;border-right:"+t.borderRightWidth+" solid red;font-family:"+t.fontFamily+";font-feature-settings:"+t.fontFeatureSettings+";font-kerning:"+t.fontKerning+";font-size:"+t.fontSize+";font-stretch:"+t.fontStretch+";font-style:"+t.fontStyle+";font-variant:"+t.fontVariant+";font-variant-caps:"+t.fontVariantCaps+";font-variant-ligatures:"+t.fontVariantLigatures+";font-variant-numeric:"+t.fontVariantNumeric+";font-weight:"+t.fontWeight+";letter-spacing:"+t.letterSpacing+";margin-left:"+t.marginLeft+";margin-right:"+t.marginRight+";padding-left:"+t.paddingLeft+";padding-right:"+t.paddingRight+";text-indent:"+t.textIndent+";text-transform:"+t.textTransform}function m(e){var t=e.createElement("div");return t.id="ghost",t.style.cssText="display:inline-block;height:0;overflow:hidden;position:absolute;top:0;visibility:hidden;white-space:nowrap;",e.body.appendChild(t),t}function p(e){if(!e)return;const t=l(e),i=c(e),r=m(t),n=h(e);n&&(r.style.cssText+=n);function o(){i.requestAnimationFrame(()=>{r.innerHTML=e.value;const a=i.getComputedStyle(r);e?.style.setProperty("width",a.width)})}return o(),e?.addEventListener("input",o),e?.addEventListener("change",o),()=>{t.body.removeChild(r),e?.removeEventListener("input",o),e?.removeEventListener("change",o)}}var u=e=>{if(!e)return;const t=g(e),i=c(e),r=l(e),n=()=>{requestAnimationFrame(()=>{e.style.height="auto";let s;t.boxSizing==="content-box"?s=e.scrollHeight-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):s=e.scrollHeight+parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),t.maxHeight!=="none"&&s>parseFloat(t.maxHeight)?(t.overflowY==="hidden"&&(e.style.overflowY="scroll"),s=parseFloat(t.maxHeight)):t.overflowY!=="hidden"&&(e.style.overflowY="hidden"),e.style.height=`${s}px`})};e.addEventListener("input",n),e.form?.addEventListener("reset",n);const o=Object.getPrototypeOf(e),a=Object.getOwnPropertyDescriptor(o,"value");Object.defineProperty(e,"value",{...a,set(){a?.set?.apply(this,arguments),n()}});const d=new i.ResizeObserver(()=>{requestAnimationFrame(()=>n())});d.observe(e);const f=new i.MutationObserver(()=>n());return f.observe(e,{attributes:!0,attributeFilter:["rows","placeholder"]}),r.fonts?.addEventListener("loadingdone",n),()=>{e.removeEventListener("input",n),e.form?.removeEventListener("reset",n),r.fonts?.removeEventListener("loadingdone",n),d.disconnect(),f.disconnect()}};export{p as a,u as b};
